<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Curiosidades - Patas Solid√°rias</title>
  <link rel="icon" type="image/png" href="../img/animais-de-estimacao.png">
  <link rel="stylesheet" href="../css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <header>
    <div class="container">
      <a href="#inicio" class="logo">
        <span>üêæ</span>
        <span>Patas Solid√°rias</span>
      </a>
      <nav class="main-nav">
        <a href="/html/home.html">Home</a>
        <a href="/html/impacto.html">Impacto</a>
        <a href="/html/proposito.html">Prop√≥sito</a>
        <a href="/html/doacoes.html">Doa√ß√µes</a>
        <a href="/html/curiosidades.html">Curiosidades</a>
        <a href="/html/quemsomos.html">Quem Somos</a>
        <a href="/html/sejaUm.html">Seja uma pata amiga!</a>
      </nav>
      <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()">üåô</button>
      <button id="mobile-menu-button">‚ò∞</button>
    </div>
    <div id="mobile-menu">
      <a href="/html/home.html">Home</a>
      <a href="/html/impacto.html">Impacto</a>
      <a href="/html/proposito.html">Prop√≥sito</a>
      <a href="/html/doacoes.html">Doa√ß√µes</a>
      <a href="/html/curiosidades.html">Curiosidades</a>
      <a href="/html/quemsomos.html">Quem Somos</a>
      <a href="/html/sejaUm.html">Seja uma pata amiga!</a>
    </div>
  </header>

  <main>
    <section id="curiosidades">
        <div class="container">
            <h1 class="section-title">üêæ Fatos Divertidos de Animais üêæ</h1>
            <p id="fact" class="section-subtitle">Clique em um bot√£o para ver um fato divertido!</p>

            <div class="fact-buttons">
                <button class="fact-button" onclick="getAnimalFact('cat')">Fato de Gato üê±</button>
                <button class="fact-button" onclick="getAnimalFact('dog')">Fato de Cachorro üê∂</button>
            </div>
        </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p class="logo-footer">Patas Solid√°rias</p>
      <div class="social-links">
        <a href="#">Facebook</a>
        <a href="#">Instagram</a>
        <a href="#">Twitter</a>
      </div>
      <p>&copy; 2025 Patas Solid√°rias. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script src="../js/script.js"></script>

 <script>
    const animaisDisponiveis = ['dog', 'cat'];

    async function getAnimalFact(animal) {
      const factElement = document.getElementById('fact');
      factElement.innerText = `Buscando um fato sobre ${animal}... üïê`;

      const apiUrl = `https://some-random-api.com/facts/${animal}`;
      const extractFact = data => data.fact;
      
      try {
        const response = await fetch(apiUrl);
        if (!response.ok) {
          throw new Error(`A API para '${animal}' falhou.`);
        }
        const data = await response.json();
        const originalFact = extractFact(data);


        const encodedFact = encodeURIComponent(originalFact);
        const translateResponse = await fetch(`https://api.mymemory.translated.net/get?q=${encodedFact}&langpair=en|pt-br`);
        
        if (!translateResponse.ok) {
          throw new Error('A API de tradu√ß√£o falhou.');
        }
        
        const translationData = await translateResponse.json();

        if (translationData.responseData?.translatedText) {
          factElement.innerText = translationData.responseData.translatedText;
        } else {
          // Se a tradu√ß√£o falhou, exibe o original com um aviso
          factElement.innerText = originalFact + " (N√£o foi poss√≠vel traduzir)";
        }

      } catch (error) {
        // Se QUALQUER passo acima falhar, exibe uma mensagem de erro geral
        factElement.innerText = `Erro ao carregar o fato sobre '${animal}' üòø`;
        console.error('Erro:', error);
      }
    }

    function gerarFatoAleatorio() {
      const indiceAleatorio = Math.floor(Math.random() * animaisDisponiveis.length);
      const animalSorteado = animaisDisponiveis[indiceAleatorio];
      getAnimalFact(animalSorteado);
    }
  </script>
</body>
</html>